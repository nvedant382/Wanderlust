<style>
    .btn-search{
      background-color: #fe424d;
      color: #fff;
      opacity: 0.9;
      border-radius:25px;
      padding:0 1rem 0 1rem;
    }

    .btn-search:hover{
      background-color: #fe424d;
      color: #fff;
      opacity: 1;
    }

    .inp-search{
      border-radius: 25px;
      padding:0.5rem 3rem 0.5rem 3rem;
    }
</style>

<nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="/listing"><i class="fa-regular fa-compass"></i></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">

        <div class="navbar-nav">
          <a class="nav-link" href="/listing">Explore</a>
          <a class="nav-link" href="/listing/new">Add&nbsp;&nbsp;your&nbsp;&nbsp;Listing</a>
        </div>

        <div class="navbar-nav ms-auto">
          <form class="d-flex" role="search" action="/listing/find" method="get" onsubmit="checkQuery(event)">
            <input class="form-control me-2 inp-search" name="search" type="search" placeholder="Search Destination" aria-label="Search">
            <button class="btn btn-search" type="submit">Search</button>
          </form>
        </div>

        <div class="navbar-nav ms-auto">

          <% if(!currUser){ %>
            <a class="nav-link" href="/signup"><b>Sign up</b></a>
            <a class="nav-link" href="/login"><b>Log in</b></a>
          <% } %>

          <% if(currUser) { %>
            <a class="nav-link" href="/logout"><b>Log out</b></a>
          <% } %>
        </div>

      </div>
    </div>
</nav>

<script>
    function checkQuery(event){
        let searchInput = document.querySelector(".inp-search")
        let Query = searchInput.value.trim()

        if(Query.length < 3){
          event.preventDefault()
          alert("Enter Valid Destination")
          searchInput.focus()
        }
    }
</script>